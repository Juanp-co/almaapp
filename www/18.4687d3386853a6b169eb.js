(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/kjj":function(e,t,o){"use strict";o.r(t),o.d(t,"CursoPageModule",function(){return M});var i=o("ofXK"),s=o("3Pt+"),n=o("TEn/"),r=o("tyNb"),a=o("mrSG"),c=o("OmbT"),l=o("fXoL"),d=o("QTu/"),u=o("4WDQ"),b=o("7Ab0"),h=o("1U7r");function g(e,t){if(1&e&&(l.Mb(0,"ion-card-content"),l.Kb(1,"div",7),l.Lb()),2&e){const e=l.Wb(2);l.xb(1),l.Zb("innerHTML",e.course.description,l.fc)}}function m(e,t){1&e&&l.Kb(0,"ion-icon",14)}function f(e,t){1&e&&l.Kb(0,"ion-icon",15)}function v(e,t){1&e&&l.Kb(0,"ion-icon",16)}function p(e,t){if(1&e){const e=l.Nb();l.Mb(0,"ion-list",8),l.Mb(1,"ion-item",9),l.Ub("click",function(){l.ec(e);const o=t.$implicit,i=l.Wb(2);return i.activeClickTemary?i.goToTemary(o._id):i.showAlertRejectAction()}),l.Kb(2,"ion-icon",10),l.Mb(3,"ion-text"),l.Mb(4,"b"),l.kc(5),l.Lb(),l.Lb(),l.ic(6,m,1,0,"ion-icon",11),l.ic(7,f,1,0,"ion-icon",12),l.ic(8,v,1,0,"ion-icon",13),l.Lb(),l.Lb()}if(2&e){const e=t.$implicit,o=t.index,i=l.Wb(2);l.xb(2),l.ac("color",i.dataCourseUser&&i.dataCourseUser.temary[o]&&i.dataCourseUser.temary[o].approved?"success":""),l.xb(3),l.nc("",e.title," (",e.content.length,")"),l.xb(1),l.Zb("ngIf",i.dataCourseUser&&i.dataCourseUser.temary[o]&&0===i.dataCourseUser.temary[o].view),l.xb(1),l.Zb("ngIf",i.dataCourseUser&&i.dataCourseUser.temary[o]&&1===i.dataCourseUser.temary[o].view),l.xb(1),l.Zb("ngIf",i.dataCourseUser&&i.dataCourseUser.temary[o]&&2===i.dataCourseUser.temary[o].view)}}function C(e,t){if(1&e&&(l.Mb(0,"div"),l.Mb(1,"ion-card"),l.Kb(2,"ion-img",3),l.Mb(3,"ion-card-header"),l.Mb(4,"ion-row"),l.Mb(5,"ion-col",4),l.Mb(6,"ion-card-subtitle",5),l.kc(7),l.Lb(),l.Mb(8,"ion-card-title"),l.kc(9),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.ic(10,g,2,1,"ion-card-content",1),l.Lb(),l.Mb(11,"ion-card"),l.Mb(12,"ion-card-header"),l.Mb(13,"ion-card-title"),l.kc(14,"Temas"),l.Lb(),l.Lb(),l.Mb(15,"ion-card-content"),l.ic(16,p,9,6,"ion-list",6),l.Lb(),l.Lb(),l.Lb()),2&e){const e=l.Wb();l.xb(2),l.Zb("src",e.course.banner),l.xb(5),l.nc("",e.course.speaker," - ",e.course.speakerPosition,""),l.xb(2),l.lc(e.course.title),l.xb(1),l.Zb("ngIf",e.course.description),l.xb(6),l.Zb("ngForOf",e.course.temary)}}function y(e,t){if(1&e){const e=l.Nb();l.Mb(0,"ion-fab",17),l.Ub("click",function(){return l.ec(e),l.Wb().showConfirmAddCourse()}),l.Mb(1,"ion-fab-button"),l.Kb(2,"ion-icon",18),l.Lb(),l.Lb()}}const L=[{path:"",component:(()=>{class e{constructor(e,t,o,i,s,n,r){this.activateRoute=e,this.cookiesService=t,this.globalSer=o,this.navCtrl=i,this.coursesService=s,this.modalController=n,this.router=r,this.course=null,this.dataCourseUser=null,this.slug=null,this.activeClickTemary=!1,this.globalSer.checkSession()||this.router.navigate(["/"])}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?yield this.getCourse():this.router.navigate(["/"])})}getCourse(){return Object(a.a)(this,void 0,void 0,function*(){this.slug||(yield this.setSlug()),yield this.globalSer.presentLoading();const e=yield this.coursesService.getCourse(this.slug);e&&!e.error?(this.course=e.course,this.course.description=Object(c.l)(this.course.description,!0),this.dataCourseUser=e.dataCourseUser,e.dataCourseUser&&(this.cookiesService.setCookie(this.slug,this.dataCourseUser),this.activeClickTemary=!0),yield this.globalSer.dismissLoading()):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}addCourse(){return Object(a.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const e=yield this.coursesService.addCourse(this.slug);e&&!e.error?(this.dataCourseUser=e,this.cookiesService.setCookie(this.slug,this.dataCourseUser),this.activeClickTemary=!0,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha agregado el curso a su listado. Ahora puede acceder al contenido.")):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}setSlug(){return Object(a.a)(this,void 0,void 0,function*(){yield this.activateRoute.paramMap.subscribe(e=>{this.slug=e.get("slug")})})}ionViewDidEnter(){return Object(a.a)(this,void 0,void 0,function*(){this.dataCourseUser=this.cookiesService.getCookie(this.slug)})}ngOnDestroy(){this.cookiesService.removeCookie(this.slug)}goToTemary(e){return Object(a.a)(this,void 0,void 0,function*(){yield this.router.navigate([`/curso/${this.course.slug}/temario/${e}`])})}showAlertRejectAction(){return Object(a.a)(this,void 0,void 0,function*(){yield this.globalSer.presentAlert("Alerta","Disculpe, pero no puede acceder al contenido hasta no haber agregado el curso a su listado.")})}showConfirmAddCourse(){return Object(a.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 desea agregar este curso a su listado?",confirmAction:()=>this.addCourse()})})}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(r.a),l.Jb(d.a),l.Jb(u.a),l.Jb(n.L),l.Jb(b.a),l.Jb(n.K),l.Jb(r.g))},e.\u0275cmp=l.Db({type:e,selectors:[["app-curso"]],decls:5,vars:3,consts:[["title","Curso",3,"slugValue"],[4,"ngIf"],["class","ion-margin-end ion-margin-bottom","vertical","bottom","horizontal","end","slot","fixed",3,"click",4,"ngIf"],[1,"banner",3,"src"],["size","12",1,"ion-no-padding","ion-no-margin","ion-justify-content-center"],[1,"ion-margin-top"],["class","ion-no-padding ion-no-margin",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"ion-no-padding","ion-no-margin"],["button","",1,"",3,"click"],["name","albums","slot","start",3,"color"],["name","time-outline","slot","end",4,"ngIf"],["name","eye-outline","slot","end",4,"ngIf"],["name","checkmark-done-outline","slot","end",4,"ngIf"],["name","time-outline","slot","end"],["name","eye-outline","slot","end"],["name","checkmark-done-outline","slot","end"],["vertical","bottom","horizontal","end","slot","fixed",1,"ion-margin-end","ion-margin-bottom",3,"click"],["name","add"]],template:function(e,t){1&e&&(l.Mb(0,"ion-content"),l.Mb(1,"ion-header"),l.Kb(2,"app-minheader",0),l.Lb(),l.ic(3,C,17,6,"div",1),l.ic(4,y,3,0,"ion-fab",2),l.Lb()),2&e&&(l.xb(2),l.ac("slugValue",t.slug),l.xb(1),l.Zb("ngIf",t.course),l.xb(1),l.Zb("ngIf",t.course&&!t.activeClickTemary))},directives:[n.n,n.s,h.a,i.i,n.g,n.u,n.i,n.C,n.m,n.j,n.k,n.h,i.h,n.y,n.w,n.t,n.D,n.p,n.q],styles:[""]}),e})()},{path:"temario",children:[{path:":themeId",loadChildren:()=>Promise.all([o.e(4),o.e(5),o.e(24)]).then(o.bind(null,"FIT4")).then(e=>e.TemarioPageModule)}]},{path:"modal-contenido-tema",loadChildren:()=>Promise.all([o.e(4),o.e(22)]).then(o.bind(null,"/9U8")).then(e=>e.ModalContenidoTemaPageModule)},{path:"modal-examen-tema",loadChildren:()=>Promise.all([o.e(5),o.e(23)]).then(o.bind(null,"zsAH")).then(e=>e.ModalExamenTemaPageModule)}];let k=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(L)],r.i]}),e})();var S=o("j1ZV");let M=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[i.b,s.a,n.H,k,S.a]]}),e})()},"1U7r":function(e,t,o){"use strict";o.d(t,"a",function(){return a});var i=o("mrSG"),s=o("fXoL"),n=o("TEn/"),r=o("QTu/");let a=(()=>{class e{constructor(e,t,o){this.modalController=e,this.navCtrl=t,this.cookiesService=o,this.history=[],this.modal=!1}ngOnInit(){this.titleHeader=this.title}back(){return Object(i.a)(this,void 0,void 0,function*(){this.slugValue&&this.cookiesService.removeCookie(this.slugValue),yield this.navCtrl.back()})}closeModal(){return Object(i.a)(this,void 0,void 0,function*(){yield this.modalController.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(n.K),s.Jb(n.L),s.Jb(r.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-minheader"]],inputs:{title:"title",slugValue:"slugValue",modal:"modal"},decls:12,vars:1,consts:[[1,"ion-no-padding","ion-no-margin"],[1,"fondoCool"],[1,"ion-margin-top","ion-margin-bottom"],["color","light",3,"click"],["name","arrow-back"],["size","8",1,"ion-margin-top","ion-margin-bottom"],["color","light",1,"titulo1"],["src","assets/logo.png",1,"logo-2"]],template:function(e,t){1&e&&(s.Mb(0,"ion-toolbar",0),s.Mb(1,"div",1),s.Mb(2,"ion-row"),s.Mb(3,"ion-col",2),s.Mb(4,"ion-buttons"),s.Mb(5,"ion-button",3),s.Ub("click",function(){return t.modal?t.closeModal():t.back()}),s.Kb(6,"ion-icon",4),s.Lb(),s.Lb(),s.Lb(),s.Mb(7,"ion-col",5),s.Mb(8,"ion-text",6),s.kc(9),s.Lb(),s.Lb(),s.Mb(10,"ion-col"),s.Kb(11,"img",7),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&e&&(s.xb(9),s.lc(t.titleHeader))},directives:[n.G,n.C,n.m,n.f,n.e,n.t,n.D],styles:[".max-icon-bar[_ngcontent-%COMP%]{max-height:100px}"]}),e})()},"7Ab0":function(e,t,o){"use strict";o.d(t,"a",function(){return c});var i=o("mrSG"),s=o("fXoL"),n=o("4WDQ"),r=o("TEn/"),a=o("1Ldg");let c=(()=>{class e{constructor(e,t,o){this.globalSer=e,this.navCtrl=t,this.axios=o}getCourse(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.getData("/courses/"+e);return t&&t.success?t.data:this.globalSer.altResponse(t)})}addCourse(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.postData(`/courses/${e}/add`);return t&&t.success?t.data.added:this.globalSer.altResponse(t)})}getThemeCourse(e,t){return Object(i.a)(this,void 0,void 0,function*(){const o=yield this.axios.getData(`/courses/${e}/theme/${t}`);return o&&o.success?o.data.theme:this.globalSer.altResponse(o)})}updateHistoricalThemeCourse(e,t,o,s){return Object(i.a)(this,void 0,void 0,function*(){const i=yield this.axios.putData(`/courses/${e}/theme/${t}/content/${o}/${s}`);return i&&i.success&&i.data&&i.data.updated?2:null})}getTestThemeCourse(e,t){return Object(i.a)(this,void 0,void 0,function*(){const o=yield this.axios.getData(`/courses/${e}/theme/${t}/test`);return o&&o.success?o.data.test:this.globalSer.altResponse(o)})}sendAnswer(e,t,o){return Object(i.a)(this,void 0,void 0,function*(){const i=yield this.axios.postData(`/courses/${e}/theme/${t}/test`,{data:o});return i&&i.success?i.data:this.globalSer.altResponse(i)})}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(n.a),s.Qb(r.L),s.Qb(a.a))},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},j1ZV:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var i=o("ofXK"),s=o("TEn/"),n=o("fXoL");let r=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[i.b,s.H]]}),e})()}}]);