(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{FIT4:function(e,t,i){"use strict";i.r(t),i.d(t,"TemarioPageModule",function(){return M});var n=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),c=i("mrSG"),a=i("umKd"),l=i("9oOh"),d=i("fXoL"),b=i("QTu/"),h=i("7Ab0"),u=i("4WDQ"),m=i("1U7r");function g(e,t){if(1&e&&d.Mb(0,"ion-img",13),2&e){const e=d.Yb().$implicit;d.dc("src","/assets/icon/",2===e.view?"clase_video":"clase_video_gris",".svg")}}function f(e,t){if(1&e&&d.Mb(0,"ion-img",13),2&e){const e=d.Yb().$implicit;d.dc("src","/assets/icon/",2===e.view?"clase_texto":"clase_texto_gris",".svg")}}function p(e,t){1&e&&d.Mb(0,"ion-icon",14)}function v(e,t){1&e&&d.Mb(0,"ion-icon",15)}function y(e,t){1&e&&d.Mb(0,"ion-icon",16)}function k(e,t){if(1&e){const e=d.Pb();d.Ob(0,"ion-list"),d.Ob(1,"ion-item",7),d.Wb("click",function(){d.gc(e);const i=t.index;return d.Yb(3).openClassModal(i)}),d.Ob(2,"ion-avatar",8),d.kc(3,g,1,1,"ion-img",9),d.kc(4,f,1,1,"ion-img",9),d.Nb(),d.Ob(5,"ion-text"),d.Ob(6,"b"),d.mc(7),d.Nb(),d.Nb(),d.kc(8,p,1,0,"ion-icon",10),d.kc(9,v,1,0,"ion-icon",11),d.kc(10,y,1,0,"ion-icon",12),d.Nb(),d.Nb()}if(2&e){const e=t.$implicit;d.zb(3),d.bc("ngIf",e.urlVideo),d.zb(1),d.bc("ngIf",!e.urlVideo),d.zb(3),d.nc(e.title),d.zb(1),d.bc("ngIf",0===e.view),d.zb(1),d.bc("ngIf",1===e.view),d.zb(1),d.bc("ngIf",2===e.view)}}function O(e,t){if(1&e&&(d.Ob(0,"ion-card"),d.Ob(1,"ion-card-header"),d.Ob(2,"ion-card-title"),d.mc(3,"Contenido"),d.Nb(),d.Nb(),d.Ob(4,"ion-card-content"),d.kc(5,k,11,6,"ion-list",6),d.Nb(),d.Nb()),2&e){const e=d.Yb(2);d.zb(5),d.bc("ngForOf",e.theme.content)}}function S(e,t){1&e&&(d.Ob(0,"ion-text"),d.mc(1," Complete el listado de contenidos del tema para poder presentar el examen. "),d.Nb())}function I(e,t){if(1&e){const e=d.Pb();d.Ob(0,"ion-button",17),d.Wb("click",function(){return d.gc(e),d.Yb(2).openTestModal()}),d.mc(1," Presentar ex\xe1men "),d.Nb()}}function w(e,t){if(1&e&&(d.Ob(0,"ion-content"),d.Ob(1,"ion-header"),d.Mb(2,"app-minheader",1),d.Nb(),d.Ob(3,"ion-card"),d.Ob(4,"ion-card-header"),d.Ob(5,"ion-card-title",2),d.mc(6,"Descripci\xf3n"),d.Nb(),d.Nb(),d.Ob(7,"ion-card-content"),d.Mb(8,"div",3),d.Nb(),d.Nb(),d.kc(9,O,6,1,"ion-card",0),d.Ob(10,"ion-card"),d.Ob(11,"ion-card-header"),d.Ob(12,"ion-card-title"),d.mc(13,"Examen"),d.Nb(),d.Nb(),d.Ob(14,"ion-card-content"),d.Ob(15,"ion-row"),d.Ob(16,"ion-col",4),d.kc(17,S,2,0,"ion-text",0),d.kc(18,I,2,0,"ion-button",5),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()),2&e){const e=d.Yb();d.zb(2),d.cc("title",e.theme.title||"Cargando ..."),d.zb(6),d.bc("innerHTML",e.theme.description,d.hc),d.zb(1),d.bc("ngIf",e.theme.content&&e.theme.content.length>0),d.zb(8),d.bc("ngIf",2!==e.theme.view),d.zb(1),d.bc("ngIf",2===e.theme.view)}}const C=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o,s,r){this.activateRoute=e,this.cookiesService=t,this.cursoService=i,this.globalSer=n,this.navCtrl=o,this.modalController=s,this.router=r,this.slug=null,this.themeId=null,this.theme=null,this.dataCourseUser=null,this.globalSer.checkSession()?(this.slug=this.activateRoute.snapshot.paramMap.get("slug"),this.themeId=this.activateRoute.snapshot.paramMap.get("themeId")):this.router.navigate(["/"])}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){})}ionViewDidEnter(){return Object(c.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?yield this.getCoursesList():this.router.navigate(["/"])})}getCoursesList(){return Object(c.a)(this,void 0,void 0,function*(){if(this.slug&&this.themeId){yield this.globalSer.presentLoading();const e=yield this.cursoService.getThemeCourse(this.slug,this.themeId);e&&!e.error?(this.theme=e,this.dataCourseUser=this.cookiesService.getCookie(this.slug),yield this.globalSer.dismissLoading()):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):(yield this.globalSer.dismissLoading(),yield this.navCtrl.back())}else yield this.globalSer.presentAlert("Alerta","Ha ocurrido un error al momento de obtener los datos a consultar."),yield this.navCtrl.back()})}openClassModal(e){return Object(c.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const t=this.theme.content[e]||null;t?(this.theme.content[e].view=1,this.updateHistorical(t._id,"1"),yield this.globalSer.dismissLoading(),yield this.globalSer.loadModal(a.a,{content:t},!1,()=>Object(c.a)(this,void 0,void 0,function*(){const i=yield this.updateHistorical(t._id,"2");i&&(this.theme.content[e].view=i);let n=0;if(this.theme.content.forEach(e=>{2===e.view&&n++}),this.theme.view=n===this.theme.content.length?2:1,this.dataCourseUser){const e=this.dataCourseUser.temary.findIndex(e=>e.temaryId===this.themeId);e>-1&&(this.dataCourseUser.temary[e].view=this.theme.view,this.cookiesService.setCookie(this.slug,this.dataCourseUser))}}))):(yield this.globalSer.presentAlert("Alerta","Ha ocurrido un error al momento de cargar el contenido."),yield this.navCtrl.back())})}openTestModal(){return Object(c.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const e={slug:this.slug,themeId:this.themeId,title:this.theme.title,test:null},t=yield this.cursoService.getTestThemeCourse(this.slug,this.themeId);t&&!t.error?t&&t.length>0?(e.test=t,yield this.globalSer.dismissLoading(),yield this.globalSer.loadModal(l.a,e,!1)):(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("Alerta","Disculpe, pero la pueba actual no est\xe1 disponible.")):t&&t.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}updateHistorical(e,t){return Object(c.a)(this,void 0,void 0,function*(){return this.cursoService.updateHistoricalThemeCourse(this.slug,this.themeId,e,t)})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(r.a),d.Lb(b.a),d.Lb(h.a),d.Lb(u.a),d.Lb(s.L),d.Lb(s.K),d.Lb(r.g))},e.\u0275cmp=d.Fb({type:e,selectors:[["app-temario"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"title"],[1,""],[3,"innerHTML"],["size","12"],["expand","block","color","primary",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["button","",1,"ion-no-padding","ion-no-margin",3,"click"],["slot","start"],[3,"src",4,"ngIf"],["name","time-outline","slot","end",4,"ngIf"],["name","eye-outline","slot","end",4,"ngIf"],["name","checkmark-done-outline","slot","end",4,"ngIf"],[3,"src"],["name","time-outline","slot","end"],["name","eye-outline","slot","end"],["name","checkmark-done-outline","slot","end"],["expand","block","color","primary",3,"click"]],template:function(e,t){1&e&&d.kc(0,w,19,5,"ion-content",0),2&e&&d.bc("ngIf",t.theme)},directives:[n.i,s.n,s.s,m.a,s.g,s.i,s.k,s.h,s.C,s.m,n.h,s.y,s.w,s.d,s.D,s.u,s.t,s.e],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({imports:[[r.i.forChild(C)],r.i]}),e})();var N=i("j1ZV");let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({imports:[[n.b,o.a,s.H,L,N.a]]}),e})()}}]);