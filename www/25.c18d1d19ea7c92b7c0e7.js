(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{Wtct:function(i,o,t){"use strict";t.r(o),t.d(o,"InicioPageModule",function(){return M});var n=t("ofXK"),e=t("3Pt+"),s=t("TEn/"),r=t("tyNb"),a=t("mrSG"),c=t("fXoL"),l=t("1Ldg"),b=t("QTu/"),d=t("4WDQ");function g(i,o){if(1&i&&(c.Mb(0,"ion-text",9),c.kc(1),c.Lb()),2&i){const i=c.Wb();c.xb(1),c.nc(" ",i.userData.names," ",i.userData.lastNames," ")}}function u(i,o){if(1&i){const i=c.Nb();c.Mb(0,"div",10),c.Kb(1,"br"),c.Kb(2,"br"),c.Kb(3,"br"),c.Mb(4,"ion-row",11),c.Mb(5,"ion-col",12),c.Mb(6,"h4"),c.Mb(7,"ion-text",13),c.kc(8," Inicio de sesi\xf3n "),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(9,"ion-row",11),c.Mb(10,"ion-col",14),c.Mb(11,"ion-item"),c.Mb(12,"ion-label",15),c.kc(13,"N\xba de documento"),c.Lb(),c.Mb(14,"ion-input",16),c.Ub("ngModelChange",function(o){return c.ec(i),c.Wb().user=o}),c.Lb(),c.Lb(),c.Lb(),c.Mb(15,"ion-col",14),c.Mb(16,"ion-item"),c.Mb(17,"ion-label",15),c.kc(18,"Contrase\xf1a"),c.Lb(),c.Mb(19,"ion-input",17),c.Ub("ngModelChange",function(o){return c.ec(i),c.Wb().pass=o}),c.Lb(),c.Lb(),c.Lb(),c.Mb(20,"ion-col",14),c.Mb(21,"p",18),c.Ub("click",function(){return c.ec(i),c.Wb().goTo("recuperar-acceso")}),c.Mb(22,"ion-text",19),c.kc(23,"\xbfOlvidaste tu contrase\xf1a?"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(24,"ion-row",20),c.Mb(25,"ion-col",12),c.Mb(26,"ion-button",21),c.Ub("click",function(){return c.ec(i),c.Wb().goTo("registro")}),c.kc(27," Registro "),c.Lb(),c.Lb(),c.Mb(28,"ion-col",12),c.Mb(29,"ion-button",22),c.Ub("click",function(){return c.ec(i),c.Wb().ingresar()}),c.kc(30," Ingresar "),c.Lb(),c.Lb(),c.Lb(),c.Kb(31,"ion-row",11),c.Lb()}if(2&i){const i=c.Wb();c.xb(14),c.Zb("ngModel",i.user),c.xb(5),c.Zb("ngModel",i.pass)}}function p(i,o){if(1&i){const i=c.Nb();c.Mb(0,"ion-col",25),c.Ub("click",function(){c.ec(i);const t=o.index;return c.Wb(2).irMenu(t)}),c.Mb(1,"p"),c.Kb(2,"img",26),c.Lb(),c.Mb(3,"ion-text",27),c.kc(4),c.Lb(),c.Lb()}if(2&i){const i=o.$implicit;c.xb(2),c.Zb("src",i.imagen,c.gc),c.xb(2),c.lc(i.titulo)}}function h(i,o){if(1&i&&(c.Mb(0,"div",23),c.Kb(1,"br"),c.Mb(2,"ion-row",11),c.ic(3,p,5,2,"ion-col",24),c.Lb(),c.Kb(4,"br"),c.Lb()),2&i){const i=c.Wb();c.xb(3),c.Zb("ngForOf",i.opciones)}}function m(i,o){if(1&i){const i=c.Nb();c.Mb(0,"ion-fab",28),c.Mb(1,"ion-fab-button",29),c.Ub("click",function(){return c.ec(i),c.Wb().goTo("perfil")}),c.Kb(2,"ion-icon",30),c.Lb(),c.Lb()}}const f=[{path:"",component:(()=>{class i{constructor(i,o,t,n){this.axios=i,this.cookieService=o,this.globalSer=t,this.navCtrl=n,this.login=!1,this.userData=null,this.user="CC12345678",this.pass="password",this.opciones=[{titulo:"Red padres",imagen:"assets/icon/red.svg",url:"padres"},{titulo:"Ofrendas",imagen:"assets/icon/ofrenda.svg",url:"ofrenda"},{titulo:"Escuela",imagen:"assets/icon/escuela.svg",url:"escuela"},{titulo:"Reportes",imagen:"assets/icon/reportes.svg",url:"estadistica"},{titulo:"Eventos",imagen:"assets/icon/calendario.svg",url:"eventos"},{titulo:"Salir",imagen:"assets/icon/logout.svg",url:null}]}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){})}ionViewWillEnter(){return Object(a.a)(this,void 0,void 0,function*(){yield this.getDataLogin()})}getDataLogin(){return Object(a.a)(this,void 0,void 0,function*(){if(this.cookieService.getCookie("token")){this.login=!0;const i=this.cookieService.getCookie("data");if(i)this.userData=i;else{const i=yield this.axios.getData("/user");i&&i.success?(this.cookieService.setCookie("data",i.data.data),this.userData=i.data.data,yield this.globalSer.dismissLoading()):(i.status&&401===i.status&&(this.cookieService.removeCookie("token"),this.login=!1),yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("Alerta",i.error))}}else this.login=!1})}ingresar(){return Object(a.a)(this,void 0,void 0,function*(){if(this.pass&&this.user){yield this.globalSer.presentLoading();const i=yield this.axios.postData("/login",{document:this.user,password:this.pass});if(i&&i.success){const{data:o,token:t}=i.data;this.cookieService.setCookie("token",t),this.cookieService.setCookie("data",o),this.userData=o,this.login=!0,this.user=null,this.pass=null,yield this.globalSer.dismissLoading()}else this.user=null,this.pass=null,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("Alerta",i.error)}else yield this.globalSer.presentAlert("Alerta","Aseg\xfarese de indicar su n\xfamero de documento y contrase\xf1a.")})}irMenu(i){return Object(a.a)(this,void 0,void 0,function*(){const o=this.opciones[i]||null;o&&(o.url?yield this.navCtrl.navigateForward(o.url):yield this.globalSer.alertConfirm({header:"Salir",message:"\xbfEst\xe1 seguro qu\xe9 desea finalizar la sesi\xf3n?",confirmAction:()=>Object(a.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading(),this.userData=null,this.axios.deleteData("/logout"),yield this.globalSer.clearAllData(),this.login=!1,yield this.globalSer.dismissLoading()})}))})}goTo(i){return Object(a.a)(this,void 0,void 0,function*(){yield this.navCtrl.navigateForward("/"+i)})}}return i.\u0275fac=function(o){return new(o||i)(c.Jb(l.a),c.Jb(b.a),c.Jb(d.a),c.Jb(s.L))},i.\u0275cmp=c.Db({type:i,selectors:[["app-inicio"]],decls:16,vars:4,consts:[[1,"fondoCool","ion-justify-content-end","ion-padding"],["size","8",1,"ion-margin-top","ion-padding-top"],["color","light",1,"titulo1"],["color","light","class","titulo2",4,"ngIf"],["size","4"],["src","assets/logo.png",1,"logo"],["class","ion-margin-top ion-padding-top",4,"ngIf"],["class","ion-margin-top ion-padding-top ion-margin-bottom ion-padding-bottom",4,"ngIf"],["class","ion-margin-end ion-margin-bottom","vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],["color","light",1,"titulo2"],[1,"ion-margin-top","ion-padding-top"],[1,"ion-justify-content-center"],["size","auto"],["color","primary"],["size","9"],["position","floating","color","medium"],["maxlength","12",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[3,"click"],["color","medium",1,"ion-text-start"],[1,"ion-justify-content-center","ion-margin-top"],["expand","block","color","light",3,"click"],["expand","block","color","primary",3,"click"],[1,"ion-margin-top","ion-padding-top","ion-margin-bottom","ion-padding-bottom"],["size","5","class","ion-text-center ion-margin-top ion-padding-top","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["size","5",1,"ion-text-center","ion-margin-top","ion-padding-top",2,"cursor","pointer",3,"click"],["alt","",3,"src"],["color","medium",1,"ion-padding-top"],["vertical","bottom","horizontal","end","slot","fixed",1,"ion-margin-end","ion-margin-bottom"],["color","primary",3,"click"],["name","person-outline"]],template:function(i,o){1&i&&(c.Mb(0,"ion-content"),c.Mb(1,"ion-row",0),c.Mb(2,"ion-col",1),c.Kb(3,"br"),c.Kb(4,"br"),c.Kb(5,"br"),c.Kb(6,"br"),c.Mb(7,"ion-text",2),c.kc(8,"Bienvenido"),c.Lb(),c.Kb(9,"br"),c.ic(10,g,2,2,"ion-text",3),c.Lb(),c.Mb(11,"ion-col",4),c.Kb(12,"img",5),c.Lb(),c.Lb(),c.ic(13,u,32,2,"div",6),c.ic(14,h,5,1,"div",7),c.ic(15,m,3,0,"ion-fab",8),c.Lb()),2&i&&(c.xb(10),c.Zb("ngIf",o.userData),c.xb(3),c.Zb("ngIf",!o.login),c.xb(1),c.Zb("ngIf",o.login),c.xb(1),c.Zb("ngIf",o.login))},directives:[s.n,s.C,s.m,s.D,n.i,s.w,s.x,s.v,s.O,e.b,e.e,e.f,s.e,n.h,s.p,s.q,s.t],styles:[".fondoCool[_ngcontent-%COMP%]{background-image:linear-gradient(to right bottom,rgba(0,0,0,.5),rgba(0,0,0,.5)),url(/assets/cruz.png);background-size:cover;background-position:50%}.logo[_ngcontent-%COMP%]{margin-bottom:-190px!important}"]}),i})()}];let v=(()=>{class i{}return i.\u0275mod=c.Hb({type:i}),i.\u0275inj=c.Gb({factory:function(o){return new(o||i)},imports:[[r.i.forChild(f)],r.i]}),i})(),M=(()=>{class i{}return i.\u0275mod=c.Hb({type:i}),i.\u0275inj=c.Gb({factory:function(o){return new(o||i)},imports:[[n.b,e.a,s.H,v]]}),i})()}}]);