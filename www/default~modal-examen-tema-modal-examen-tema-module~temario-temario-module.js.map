{"version":3,"sources":["./src/app/views/curso/modal-examen-tema/modal-examen-tema.page.html","./src/app/views/curso/modal-examen-tema/modal-examen-tema.page.ts","./src/app/views/curso/modal-examen-tema/modal-examen-tema.page.scss"],"names":[],"mappings":"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","file":"default~modal-examen-tema-modal-examen-tema-module~temario-temario-module.js","sourcesContent":["export default \"<ion-content>\\n  <ion-header color=\\\"primary\\\">\\n    <ion-toolbar class=\\\"ion-no-padding ion-no-margin\\\">\\n      <div class=\\\"fondoCool\\\">\\n        <ion-row>\\n          <ion-col class=\\\"ion-margin-top ion-margin-bottom\\\">\\n            <ion-buttons>\\n              <ion-button color=\\\"light\\\" (click)=\\\"getQuestionsFromList()\\\" *ngIf=\\\"!finishedTest.msg && viewSelected > 0 && viewSelected <= totalsViews\\\">\\n                <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"light\\\" (click)=\\\"!finishedTest.msg ? dismiss() : closeModal()\\\" *ngIf=\\\"viewSelected === 0 || finishedTest.msg\\\">\\n                <ion-icon name=\\\"close\\\"></ion-icon>\\n              </ion-button>\\n            </ion-buttons>\\n          </ion-col>\\n          <ion-col size=\\\"7\\\" class=\\\"ion-margin-top ion-margin-bottom\\\">\\n            <ion-text color=\\\"light\\\" class=\\\"titulo1\\\">Examen: {{ title }}</ion-text>\\n          </ion-col>\\n          <ion-col>\\n            <img src=\\\"assets/logo.png\\\" class=\\\"logo-2\\\">\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div *ngIf=\\\"questionsView && !finishedTest.msg\\\">\\n    <ion-list *ngFor=\\\"let item of questionsView\\\">\\n      <ion-card>\\n        <ion-card-header>\\n          <ion-card-title>{{ item.title }}</ion-card-title>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <div *ngIf=\\\"item.description\\\" [innerHTML]=\\\"item.description\\\"></div>\\n\\n          <div *ngIf=\\\"item.inputType === 'text'\\\">\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\" color=\\\"medium\\\">{{ item.placeholder || 'Indique su respuesta' }}</ion-label>\\n              <ion-input [(ngModel)]=\\\"questionsModel[item._id]\\\" [required]=\\\"item.require\\\"></ion-input>\\n            </ion-item>\\n          </div>\\n          <div *ngIf=\\\"item.inputType === 'textarea'\\\">\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\" color=\\\"medium\\\">{{ item.placeholder || 'Indique su respuesta' }}</ion-label>\\n              <ion-textarea\\n                rows=\\\"4\\\"\\n                cols=\\\"20\\\"\\n                [(ngModel)]=\\\"questionsModel[item._id]\\\"\\n                [required]=\\\"item.require\\\"\\n              ></ion-textarea>\\n            </ion-item>\\n          </div>\\n          <div *ngIf=\\\"item.inputType === 'radio'\\\">\\n            <ion-radio-group [(ngModel)]=\\\"questionsModel[item._id]\\\" value=\\\"{{questionsModel[item._id]}}\\\">\\n              <ion-list *ngFor=\\\"let value of item.values; let i=index\\\">\\n                <ion-item>\\n                  <ion-label>{{ value }}</ion-label>\\n                  <ion-radio slot=\\\"start\\\" value=\\\"{{i}}\\\"></ion-radio>\\n                </ion-item>\\n              </ion-list>\\n            </ion-radio-group>\\n          </div>\\n          <div *ngIf=\\\"item.inputType === 'checkbox'\\\">\\n            <ion-list>\\n              <ion-item *ngFor=\\\"let value of questionsModel[item._id]\\\">\\n                <ion-label>{{ value.val }}</ion-label>\\n                <ion-checkbox\\n                  slot=\\\"start\\\"\\n                  [(ngModel)]=\\\"value.isChecked\\\"\\n                ></ion-checkbox>\\n              </ion-item>\\n            </ion-list>\\n          </div>\\n          <ion-text *ngIf=\\\"item.require\\\"><i>(*) Obligatoria </i></ion-text>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-list>\\n    <div *ngIf=\\\"viewSelected === 0; else nextButtons\\\">\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          <ion-button color=\\\"light\\\" expand=\\\"block\\\" (click)=\\\"dismiss()\\\">\\n            <ion-text>SALIR</ion-text>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\">\\n          <ion-button color=\\\"primary\\\" expand=\\\"block\\\" (click)=\\\"getQuestionsFromList(true)\\\">\\n            <ion-text>SIGUIENTE</ion-text>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </div>\\n    <ng-template #nextButtons>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          <ion-button color=\\\"light\\\" expand=\\\"block\\\" (click)=\\\"getQuestionsFromList()\\\">\\n            <ion-text>ATRÁS</ion-text>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\" *ngIf=\\\"viewSelected > 0 && viewSelected < totalsViews\\\">\\n          <ion-button color=\\\"primary\\\" expand=\\\"block\\\" (click)=\\\"getQuestionsFromList(true)\\\">\\n            <ion-text>SIGUIENTE</ion-text>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\" *ngIf=\\\"viewSelected === totalsViews\\\">\\n          <ion-button color=\\\"primary\\\" expand=\\\"block\\\" (click)=\\\"finishTest()\\\">\\n            <ion-text>FINALIZAR</ion-text>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ng-template>\\n    <!--<ion-card>-->\\n      <!--<ion-card-content>-->\\n\\n      <!--</ion-card-content>-->\\n    <!--</ion-card>-->\\n  </div>\\n  <div *ngIf=\\\"finishedTest.msg\\\">\\n    <ion-card>\\n      <ion-card-header>\\n        <ion-img class=\\\"exam-img\\\" [src]=\\\"'/assets/icon/education.svg'\\\" *ngIf=\\\"finishedTest.approved\\\"></ion-img>\\n        <ion-img class=\\\"exam-img\\\" [src]=\\\"'/assets/icon/exam.svg'\\\" *ngIf=\\\"!finishedTest.approved\\\"></ion-img>\\n        <ion-card-title class=\\\"ion-text-center ion-margin-top\\\">{{finishedTest.msg}}</ion-card-title>\\n      </ion-card-header>\\n\\n      <ion-card-content>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-row>\\n              <ion-col size=\\\"6\\\" class=\\\"height-100\\\">\\n                <div class=\\\"align-middle\\\"></div>\\n                <h2 class=\\\"number-score\\\">{{ finishedTest.average }}</h2>\\n                <ion-card-title class=\\\"ion-text-center\\\">Puntos</ion-card-title>\\n              </ion-col>\\n              <ion-col size=\\\"6\\\" class=\\\"ion-justify-content-around\\\">\\n                <ion-img [src]=\\\"'/assets/icon/rating.svg'\\\"></ion-img>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-justify-content-center\\\">\\n            <ion-button expand=\\\"block\\\" (click)=\\\"closeModal()\\\">\\n              <ion-text>CERRAR EXAMEN</ion-text>\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n\\n</ion-content>\\n\";","import {Component, Input, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {AlertController, ModalController} from '@ionic/angular';\nimport dayjs from 'dayjs';\nimport {GlobalService} from '../../../services/global.service';\nimport {ICursoExamen, ICursoExamenFinalizado} from '../course.model';\nimport {CookiesService} from '../../../services/cookies.service';\nimport {CursoService} from '../curso.service';\n\n@Component({\n  selector: 'app-modal-examen-tema',\n  templateUrl: './modal-examen-tema.page.html',\n  styleUrls: ['./modal-examen-tema.page.scss'],\n})\nexport class ModalExamenTemaPage implements OnInit {\n\n  @Input() slug: any = null;\n  @Input() themeId: any = null;\n  @Input() test: any = null;\n  @Input() title: any = null;\n\n  totalsViews = 0;\n  viewSelected = 0;\n  questions: any = [];\n  questionsView: ICursoExamen[] = null;\n  finishedTest: ICursoExamenFinalizado = {\n    msg: null,\n    average: 0,\n    approved: false\n  };\n  questionsModel: any = {};\n\n  constructor(\n    private activateRoute: ActivatedRoute,\n    private alertController: AlertController,\n    private cookiesService: CookiesService,\n    private globalSer: GlobalService,\n    private cursoService: CursoService,\n    private modalController: ModalController,\n  ) { }\n\n  async ngOnInit() {\n    this.setSectionsQuestions();\n  }\n\n  setSectionsQuestions() {\n    const totals = this.test.length;\n    this.totalsViews = this.globalSer.getPagination(totals, 2);\n\n    for (let i = 0; i < this.totalsViews; i++) {\n      const jump = i === 0 ? 0 : i * 2;\n      const selected = this.test.slice(jump, jump + 2);\n      this.questions.push(selected);\n    }\n\n    for (let j = 0; j < totals; j++) {\n      if (this.test[j].inputType === 'checkbox') {\n        this.questionsModel[`${this.test[j]._id}`] = []; // create a new value with Question ID\n        // set data with the new object\n        this.test[j].values.forEach(v => {\n          this.questionsModel[`${this.test[j]._id}`].push({\n            val: v,\n            isChecked: false\n          });\n        });\n      }\n      else this.questionsModel[`${this.test[j]._id}`] = null;\n    }\n\n    if (this.totalsViews > 0) {\n      this.totalsViews = this.totalsViews - 1;\n      if (!!this.questions[0]) this.questionsView = this.questions[0];\n    }\n  }\n\n  checkAnswerSections(view: number): boolean {\n    // check required answer\n    const totals = this.questions[view].length;\n    let showMsg = false;\n\n    for (let i = 0; i < totals; i++) {\n      if (this.questions[view][i].require) {\n        if (this.questions[view][i].inputType === 'checkbox') {\n          const answered = this.questionsModel[this.questions[view][i]._id].filter(a => a.isChecked);\n          showMsg = answered.length === 0;\n        }\n        else showMsg = this.questionsModel[this.questions[view][i]._id] === null;\n      }\n      if (showMsg) break;\n    }\n\n    return showMsg;\n  }\n\n  async getQuestionsFromList(next = false) {\n    // check required answer\n    if (next && this.checkAnswerSections(this.viewSelected)) {\n      // await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert(\n        'Alerta',\n        'Disculpe, pero debe asegurarse de responder las preguntas obligatorias de esta sección.'\n      );\n    }\n    else {\n      if (next) this.viewSelected = this.viewSelected + 1;\n      else this.viewSelected = this.viewSelected - 1;\n      this.questionsView = this.questions[this.viewSelected] || null;\n    }\n  }\n\n  async finishTest(): Promise<boolean> {\n    await this.globalSer.presentLoading();\n\n    // check required answer\n    if (this.checkAnswerSections(this.viewSelected)) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert(\n        'Alerta',\n        'Disculpe, pero debe asegurarse de responder las preguntas obligatorias de esta sección.'\n      );\n      return false;\n    }\n\n    const data: any = [];\n    const keys = Object.keys(this.questionsModel);\n\n    if (keys.length > 0) {\n      keys.forEach(k => {\n        const model = {\n          questionId: k,\n          answer: null\n        };\n        if (this.questionsModel[k] !== null && typeof this.questionsModel[k] === 'object') {\n          const res = [];\n          this.questionsModel[k].forEach((q: any, i: number) => {\n            if (q.isChecked) res.push(i);\n          });\n          model.answer = res.toString();\n        }\n        else model.answer = this.questionsModel[k];\n\n        data.push(model);\n      });\n    }\n\n    if (data.length === 0) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert('Alerta', 'Disculpe, pero no se logró obtener la respuestas a procesar.');\n      return false;\n    }\n\n    const answer = await this.cursoService.sendAnswer(this.slug, this.themeId, data);\n\n    if (answer && !answer.error) {\n      this.finishedTest = answer;\n      const dataCourseUser = this.cookiesService.getCookie(this.slug);\n      const index = dataCourseUser.temary.findIndex(t => t._id === this.themeId);\n      if (index > -1) {\n        dataCourseUser.temary[index].view = 2;\n        dataCourseUser.temary[index].approved = this.finishedTest.approved;\n        dataCourseUser.temary[index].approvedDate = dayjs().format('YYYY-MM-DD HH:mm:ss');\n        dataCourseUser.temary[index].date = dayjs().format('YYYY-MM-DD HH:mm:ss');\n        this.cookiesService.setCookie(this.slug, dataCourseUser);\n      }\n      await this.globalSer.dismissLoading();\n    }\n    else if (data && data.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n      return false;\n    }\n    else {\n      await this.globalSer.dismissLoading();\n      await this.closeModal();\n      return false;\n    }\n\n    return true;\n  }\n\n  async closeModal() {\n    await this.modalController.dismiss();\n  }\n\n  async dismiss() {\n    await this.globalSer.alertConfirm({\n      header: 'Saliendo del examen',\n      message: '¿Está seguro qué desea salir del examen?<br/><br/>NOTA: Se perderá todo el progreso.',\n      confirmAction: async () => await this.modalController.dismiss()\n    });\n  }\n}\n","export default \".exam-img {\\n  height: 200px !important;\\n}\\n\\n.height-100 {\\n  display: table;\\n  height: 100% !important;\\n}\\n\\n.align-middle {\\n  width: 100% !important;\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.number-score {\\n  height: 100% !important;\\n  width: 100% !important;\\n  text-align: center !important;\\n  font-size: 3em !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcbW9kYWwtZXhhbWVuLXRlbWEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usd0JBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSx1QkFBQTtBQUNGOztBQUVBO0VBQ0Usc0JBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0EsNkJBQUE7RUFDQSx5QkFBQTtBQUNGIiwiZmlsZSI6Im1vZGFsLWV4YW1lbi10ZW1hLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtLWltZyB7XHJcbiAgaGVpZ2h0OiAyMDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaGVpZ2h0LTEwMCB7XHJcbiAgZGlzcGxheTogdGFibGU7XHJcbiAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5hbGlnbi1taWRkbGUge1xyXG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbi5udW1iZXItc2NvcmUge1xyXG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgZm9udC1zaXplOiAzZW0gIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\";"],"sourceRoot":"webpack:///"}