{"version":3,"sources":["./src/app/services/global.service.ts","./src/app/services/cookies.service.ts","./node_modules/js-cookie/src/js.cookie.js"],"names":[],"mappings":"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","file":"default~views-curso-curso-module~views-escuela-escuela-module~views-estadistica-estadistica-module~v~86378ee1.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport {AlertController, LoadingController, ModalController, NavController} from '@ionic/angular';\nimport {CookiesService} from './cookies.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n\n  loading;\n\n  constructor(\n    private alertCtrl: AlertController,\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private cookieService: CookiesService,\n    private modalController: ModalController\n  ) { }\n\n  async presentAlert(header: string, message: string) {\n    const alert = await this.alertCtrl.create({\n      header,\n      message,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n  async presentLoading(message: string | null = null )  {\n    this.loading = await this.loadingCtrl.create({ message: message || 'Cargando...' });\n    return this.loading.present();\n  }\n\n  async dismissLoading(){\n    await this.loading.dismiss();\n  }\n\n  /*\n    ALERTS\n   */\n\n  /**\n   * @param header Title\n   * @param message Message\n   * @param confirmAction Function confirm\n   * @param rejectAction Function reject\n   * @return Promise<void>\n   */\n  async alertConfirm(\n    { header, message, confirmAction, rejectAction }:\n      { header?: string|null, message: string|null, confirmAction?: any, rejectAction?: any }\n  ) {\n    const alert = await this.alertCtrl.create({\n      header: header || 'Confirme',\n      message: message || '¿Está seguro?',\n      buttons: [\n        { text: 'Cancelar', role: 'cancel', handler: () => { if (!!rejectAction) rejectAction(); } },\n        { text: 'Sí', handler: () => { if (!!confirmAction) confirmAction(); }}\n      ]\n    });\n    await alert.present();\n  }\n\n  async alertWithList(\n    { header, inputs, confirmAction, rejectAction }:\n      { header?: string|null, inputs: any[], confirmAction: any, rejectAction?: any }\n  ) {\n    const alert = await this.alertCtrl.create({\n      header: header || 'Seleccione',\n      inputs,\n      buttons: [\n        { text: 'Cancelar', role: 'cancel', handler: () => { if (!!rejectAction) rejectAction(); } },\n        { text: 'Ok', handler: (selectedValue) => { if (!!confirmAction) confirmAction(selectedValue); } }\n      ]\n    });\n    await alert.present();\n  }\n\n  /*\n    GLOBAL ACTION MODAL\n   */\n\n  /**\n   * @param component Page to show.\n   * @param componentProps Data pass to component.\n   * @param backdropDismiss Click out modal to close.\n   * @param actionUpdatedData Function to do action with data returned when the modal is closed.\n   * @return Promise void return\n   */\n  async loadModal(component: any, componentProps: any = {}, backdropDismiss = true, actionUpdatedData: any = null): Promise<void> {\n    if (component) {\n      const modal = await this.modalController.create({\n        component,\n        componentProps,\n        backdropDismiss\n      });\n\n      modal.present();\n\n      if (!!actionUpdatedData) {\n        const { data } = await modal.onWillDismiss();\n        if (data) actionUpdatedData(data);\n        else actionUpdatedData();\n      }\n    }\n  }\n\n  /*\n    COOKIES ACTIONS, SESSION AND RESPONSE AXIOS REDUCE\n   */\n\n  checkSession() {\n    const token = this.cookieService.getCookie('token');\n    if (!token) this.clearAllData();\n    return !!token;\n  }\n\n  getRole() {\n    const data = this.cookieService.getCookie('data');\n    return data && data.role !== null && data.role !== undefined ? data.role : null;\n  }\n\n  clearAllData() {\n    this.cookieService.removeCookie('token');\n    this.cookieService.removeCookie('data');\n  }\n\n  async altResponse(res: any): Promise<any> {\n    if (res && res.status && res.status === 401) {\n      this.clearAllData();\n      return { error: 401 };\n    }\n\n    await this.presentAlert('Alerta', res && res.error ? res.error : 'Error desconocido.');\n    return null;\n  }\n\n  async errorSession() {\n    await this.presentAlert('Alerta', 'Disculpe, pero no se encontró una sesión activa.');\n    await this.navCtrl.navigateBack(['/']);\n  }\n\n  /*\n    PAGINATION\n   */\n  getPagination(totalElements: number, perPage: number): number {\n    let pages = totalElements > 0 ? (Math.trunc((totalElements / perPage))) : 0;\n    const extraPage = totalElements > 0 ? (totalElements % perPage) > 0 : false;\n    if (extraPage) pages += 1;\n    return pages;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport * as cookie from 'js-cookie';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CookiesService {\n\n  constructor() { }\n\n  getCookie(key: string) {\n    const data = cookie.get(key);\n    if (data && data.indexOf('{') > -1) return JSON.parse(data);\n    return cookie.get(key) || null;\n  }\n\n  removeCookie(key: string) {\n    cookie.remove(key, { expires: 1 });\n  }\n\n  setCookie(key: string, value: any) {\n    cookie.set(key, value, {\n      expires: 1,\n      path: '/'\n    });\n  }\n}\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"sourceRoot":"webpack:///"}