{"version":3,"sources":["./src/app/views/inicio/inicio.page.ts","./src/app/views/inicio/inicio-routing.module.ts","./src/app/views/inicio/inicio.module.ts","./src/app/views/inicio/inicio.page.scss","./src/app/views/inicio/inicio.page.html"],"names":[],"mappings":"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","file":"views-inicio-inicio-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { GlobalService } from 'src/app/services/global.service';\nimport {AxiosService} from '../../services/axios.service';\nimport {CookiesService} from '../../services/cookies.service';\n\n@Component({\n  selector: 'app-inicio',\n  templateUrl: './inicio.page.html',\n  styleUrls: ['./inicio.page.scss'],\n})\nexport class InicioPage implements OnInit {\n\n  login = false;\n  userData: any = null;\n  user = 'CC12345678';\n  pass = 'password';\n\n  opciones = [\n    { titulo: 'Red padres', imagen: 'assets/icon/red.svg', url: 'padres' },\n    { titulo: 'Ofrendas', imagen: 'assets/icon/ofrenda.svg', url: 'ofrenda' },\n    { titulo: 'Escuela', imagen: 'assets/icon/escuela.svg', url: 'escuela' },\n    { titulo: 'Reportes', imagen: 'assets/icon/reportes.svg', url: 'estadistica' },\n    { titulo: 'Eventos', imagen: 'assets/icon/calendario.svg', url: 'eventos' },\n    { titulo: 'Salir', imagen: 'assets/icon/logout.svg', url: null }\n  ];\n\n  constructor(\n    public axios: AxiosService,\n    public cookieService: CookiesService,\n    public globalSer: GlobalService,\n    public navCtrl: NavController\n  ) { }\n\n  async ngOnInit() {\n    // await this.getDataLogin();\n  }\n\n  async ionViewWillEnter() {\n    await this.getDataLogin();\n  }\n\n  async getDataLogin() {\n    const token = this.cookieService.getCookie('token');\n    if (token) {\n      this.login = true;\n      const data = this.cookieService.getCookie('data');\n\n      if (!data) {\n        const res: any = await this.axios.getData('/user');\n\n        if (res && res.success) {\n          this.cookieService.setCookie('data', res.data.data);\n          this.userData = res.data.data;\n          await this.globalSer.dismissLoading();\n        }\n        else {\n          if (res.status && res.status === 401) {\n            this.cookieService.removeCookie('token');\n            this.login = false;\n          }\n          await this.globalSer.dismissLoading();\n          await this.globalSer.presentAlert('Alerta', res.error);\n        }\n      }\n      else this.userData = data;\n    }\n    else this.login = false;\n  }\n\n  async ingresar() {\n    if (this.pass && this.user) {\n      await this.globalSer.presentLoading();\n\n      const res: any = await this.axios.postData(\n        '/login',\n        { document: this.user, password: this.pass }\n        );\n\n      if (res && res.success) {\n        const { data, token } = res.data;\n        this.cookieService.setCookie('token', token);\n        this.cookieService.setCookie('data', data);\n        this.userData = data;\n\n        this.login = true;\n        this.user = null;\n        this.pass = null;\n        await this.globalSer.dismissLoading();\n        // await this.globalSer.presentAlert('Info', 'Ingreso exitoso!');\n      }\n      else {\n        this.user = null;\n        this.pass = null;\n        await this.globalSer.dismissLoading();\n        await this.globalSer.presentAlert('Alerta', res.error);\n      }\n    } else {\n      await this.globalSer.presentAlert('Alerta', 'Asegúrese de indicar su número de documento y contraseña.');\n    }\n  }\n\n  async irMenu(num){\n    const opt = this.opciones[num] || null;\n\n    if (opt) {\n      if (!opt.url) {\n        await this.globalSer.alertConfirm({\n          header: 'Salir',\n          message: '¿Está seguro qué desea finalizar la sesión?',\n          confirmAction: async () => {\n            await this.globalSer.presentLoading();\n            this.userData = null;\n            this.axios.deleteData('/logout');\n            await this.globalSer.clearAllData();\n            this.login = false;\n            await this.globalSer.dismissLoading();\n          }\n        });\n      }\n      else await this.navCtrl.navigateForward(opt.url);\n    }\n  }\n\n  async goTo(link: string) {\n    await this.navCtrl.navigateForward(`/${link}`);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InicioPage } from './inicio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InicioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InicioPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InicioPageRoutingModule } from './inicio-routing.module';\n\nimport { InicioPage } from './inicio.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InicioPageRoutingModule\n  ],\n  declarations: [InicioPage]\n})\nexport class InicioPageModule {}\n","export default \".fondoCool {\\n  background-image: linear-gradient(to right bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(\\\"/assets/cruz.png\\\");\\n  background-size: cover;\\n  background-position: center center;\\n}\\n\\n.logo {\\n  margin-bottom: -190px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxpbmljaW8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsbUhBQUE7RUFDQSxzQkFBQTtFQUNBLGtDQUFBO0FBREY7O0FBTUE7RUFDRSxnQ0FBQTtBQUhGIiwiZmlsZSI6ImluaWNpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLmZvbmRvQ29vbHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0IGJvdHRvbSwgcmdiYSgwLCAwLCAwLCAwLjUpLCByZ2JhKDAsIDAsIDAsIDAuNSkpLCB1cmwoXCIvYXNzZXRzL2NydXoucG5nXCIpO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xuICAvLyAtd2Via2l0LWNsaXAtcGF0aDogcG9seWdvbigwJSAwJSwgMTAwJSAwLCAxMDAlIDEwMCUsIDUwJSA4NiUsIDAlIDEwMCUpO1xuICAvLyBjbGlwLXBhdGg6IHBvbHlnb24oMCUgMCUsIDEwMCUgMCwgMTAwJSAxMDAlLCA1MCUgODYlLCAwJSAxMDAlKTtcbn1cblxuLmxvZ297XG4gIG1hcmdpbi1ib3R0b206IC0xOTBweCAhaW1wb3J0YW50O1xufVxuIl19 */\";","export default \"<!-- <ion-header>\\n  <ion-toolbar>\\n    <ion-title>inicio</ion-title>\\n  </ion-toolbar>\\n</ion-header> -->\\n\\n<ion-content>\\n\\n  <ion-row class=\\\"fondoCool ion-justify-content-end ion-padding \\\">\\n    <ion-col size=\\\"8\\\" class=\\\"ion-margin-top ion-padding-top\\\">\\n      <br><br><br><br>\\n      <ion-text color=\\\"light\\\" class=\\\"titulo1\\\">Bienvenido</ion-text> <br>\\n      <ion-text color=\\\"light\\\" class=\\\"titulo2\\\" *ngIf=\\\"userData\\\">\\n        {{userData.names}} {{userData.lastNames}}\\n      </ion-text>\\n    </ion-col>\\n    <ion-col size=\\\"4\\\">\\n      <img src=\\\"assets/logo.png\\\" class=\\\"logo\\\">\\n    </ion-col>\\n  </ion-row>\\n\\n  <div *ngIf=\\\"!login\\\" class=\\\"ion-margin-top ion-padding-top\\\">\\n    <br><br><br>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size=\\\"auto\\\">\\n        <h4>\\n          <ion-text color=\\\"primary\\\">\\n            Inicio de sesión\\n          </ion-text>\\n        </h4>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size=\\\"9\\\">\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Nº de documento</ion-label>\\n          <ion-input [(ngModel)]=\\\"user\\\" class=\\\"ion-text-uppercase\\\" maxlength=\\\"12\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Contraseña</ion-label>\\n          <ion-input type=\\\"password\\\" [(ngModel)]=\\\"pass\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <p (click)=\\\"goTo('recuperar-acceso')\\\">\\n          <ion-text color=\\\"medium\\\" class=\\\"ion-text-start\\\">¿Olvidaste tu contraseña?</ion-text>\\n        </p>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-justify-content-center ion-margin-top\\\">\\n      <ion-col size=\\\"auto\\\">\\n        <ion-button expand=\\\"block\\\" color=\\\"light\\\" (click)=\\\"goTo('registro')\\\">\\n          Registro\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"auto\\\">\\n        <ion-button expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"ingresar()\\\">\\n          Ingresar\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n    </ion-row>\\n  </div>\\n\\n  <div *ngIf=\\\"login\\\"  class=\\\"ion-margin-top ion-padding-top ion-margin-bottom ion-padding-bottom\\\">\\n    <br/>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size=\\\"5\\\"\\n        *ngFor=\\\"let item of opciones; let i = index\\\"\\n        class=\\\"ion-text-center ion-margin-top ion-padding-top\\\"\\n        style=\\\"cursor: pointer;\\\"\\n        (click)=\\\"irMenu(i)\\\"\\n        >\\n        <p><img [src]=\\\"item.imagen\\\" alt=\\\"\\\"/></p>\\n        <ion-text color=\\\"medium\\\" class=\\\"ion-padding-top\\\">{{item.titulo}}</ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <br/>\\n  </div>\\n\\n  <ion-fab class=\\\"ion-margin-end ion-margin-bottom\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\"*ngIf=\\\"login\\\">\\n    <ion-fab-button color=\\\"primary\\\" (click)=\\\"goTo('perfil')\\\">\\n      <ion-icon name=\\\"person-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}